<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>{% block title %}{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'aggiehub/style.css' %}"/>
</head>

<body>
<div class="navbar">
    <a href="{% url 'home' %}" class="navbar-brand">Home</a>
    {% if user != None %}
        <a href="{% url 'logout' %}" class="navbar-brand">Logout</a>
    {% endif %}
</div>

<div class="body-content">
    <!-- <input type="text" required="" name="username" maxlength="150" id="id_username" autofocus=""> -->
    {% block content %}
    {% endblock %}
    <hr/>
    <footer>
        <p>Â© 2019 </p>
    </footer>
</div>
</body>
<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
</html>
<script>
    $(function() {
        $(".removeOrClaim").click(function () {
            debugger;
            id = this.id;
            action = this.text
            if(action == "claim") {
                ajax_url = "/ajax/claim/"
            } else {
                ajax_url = "/ajax/delete/"
            }
            $.ajax({
                url: ajax_url,
                data: {
                    'id': id
                },
                dataType: 'json',
                success: function (data) {
                    if (data.success) {
                        debugger;
                        if(action == "claim"){
                            if(data.exists) {
                                alert("Already Claimed!!!");
                            } else {
                                $("#claims").append('<li> Claim for "' + data.post + '"</li>');
                            }
                        } else {
                            $("#"+id).parent().remove()
                        }
                    }
                }
            });
            return false;
        });
    });
</script>